!function(){"use strict";$.fn.agolGallery=function(t){var l=$.extend({},$.fn.agolGallery.defaults,t);return this.each(function(){function t(t){if($("#gallery-cont").siblings().fadeOut(),!t)var t="The gallery could not be loaded at this time";$("#gallery > .container").append("<h1>"+t+"</h1>")}var e=l.url,a=this;$.ajax({url:e,crossDomain:!0,cache:!1,dataType:"jsonp"}).done(function(e){e&&!$.isEmptyObject(e.results)?($("#gallery-cont").cycle({slides:"> div",fx:"scrollHorz",sync:!0,speed:1500,prev:"#glprev",next:"#glnext",paused:!0,autohHeight:0}),$.fn.agolGallery.format(l,a,e)):t()}).fail(function(l,e,a){t(e+", "+a)})})},$.fn.agolGallery.defaults={url:"",max:8},$.fn.agolGallery.format=function(t,l,e){var a=e.results,i=null,n=0,s=Math.min(t.max,a.length),r=[""];for(n=0;s>n;n++)n%4===0&&(0===n?r.push('<div class="firstslide">'):(r.push("</div>"),$("#gallery-cont").cycle("add",r.join("\n")),r=[],r.push("<div>"))),i=a[n],r.push('<div class="glimg">'),r.push('<a target="_blank" href="http://www.arcgis.com/home/item.html?id='+i.id+'">'),r.push('<img src="http://www.arcgis.com/sharing/rest/content/items/'+i.id+"/info/"+i.thumbnail+'" alt="'+i.title+'" title="'+i.title+'"/></a>'),r.push('<div class="desc"><a target="_blank" href="http://www.arcgis.com/home/item.html?id='+i.id+' ">'+i.title+"</a></div>"),r.push("</div>");s>0&&(r.push("</div>"),$("#gallery-cont").cycle("add",r.join("\n")))}}(jQuery);