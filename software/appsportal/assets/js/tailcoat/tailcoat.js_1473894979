/*! tailcoat - v1.1.6 - 2014-07-09
*   https://github.com/ArcGIS/tailcoat
*   Copyright (c) 2014 Environmental Systems Research Institute, Inc.
*   Apache 2.0 License */
!function(){function e(e){for(var t=u.closest("accordion-section",u.eventTarget(e)),n=u.closest("accordion",t).children,r=0;r<n.length;r++)u.removeClass(n[r],"active");u.addClass(t,"active")}function t(e,t){u.addEvent(e,u.event(),function(n){var r=u.getAttr(e,"data-direction"),o=document.querySelector("html");u.stopPropagation(n),u.preventDefault(n),t.style.display="block",setTimeout(function(){u.addClass(t,r),u.addClass(o,"scroll-lock")},0)})}function n(e){for(var t,n=u.getAttr(e,"data-modal"),r=document.querySelectorAll(".modal"),o=0;o<r.length;o++)if(u.getAttr(r[o],"data-modal")===n){t=r[o];break}null!==t&&"undefined"!=typeof t&&u.addEvent(e,u.event(),function(e){var n=document.querySelector(".modal-overlay"),r=document.querySelector("html");u.stopPropagation(e),u.preventDefault(e),u.addClass(r,"scroll-lock"),u.addClass(n,"visible"),u.addClass(t,"visible"),t.offsetHeight+50<document.documentElement.clientHeight&&(t.style.marginTop=t.offsetHeight/-2+"px",u.addClass(t,"vertically-centered"))})}function r(){var e=document.querySelectorAll(".modal-dismiss"),t=document.querySelector(".modal-overlay");if(e.length>0)for(var n=0;n<e.length;n++)u.addEvent(e[n],u.event(),o);u.addEvent(t,u.event(),o)}function o(e){var t=u.hasClass(u.eventTarget(e),"modal-overlay"),n=u.hasClass(u.eventTarget(e),"modal-dismiss");if(t||n){var r=document.querySelectorAll(".modal"),o=document.querySelector(".modal-overlay"),a=document.querySelector("html");u.stopPropagation(e),u.preventDefault(e);for(var l=0;l<r.length;l++)u.removeClass(r[l],"visible");u.removeClass(a,"scroll-lock"),u.removeClass(o,"visible")}}function a(e){e.value=e.placeholder,u.addClass(e,"placeholder")}function l(e){var t=u.isIE8?e.srcElement:e.target;t.value="",u.removeClass(t,"placeholder")}function c(e){u.preventDefault(e);var t=u.closest("navigation-bar-nav",e.target);u.hasClass(t,"open")?u.removeClass(t,"open"):u.addClass(t,"open")}function s(e){u.preventDefault(e);var t,n=u.eventTarget(e);t=u.hasClass(n,"tab")?n:u.closest("tab",n);for(var r=u.closest("tab-nav",t).querySelectorAll(".tab"),o=u.indexOf(t,r),a=u.closest("tab-group",t).querySelectorAll(".tab-content"),l=0;l<r.length;l++)u.removeClass(r[l],"active"),u.removeClass(a[l],"active");u.addClass(t,"active"),u.addClass(a[o],"active")}function i(){var e=window.T;d.noConflict=function(){return window.T=e,this},window.T=d}var d={},u=d.utils={};u.event=function(){return"click"},u.addEvent=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):void 0},u.removeEvent=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):void 0},u.eventTarget=function(e){return e.target?e.target?e.target:void 0:e.srcElement},u.preventDefault=function(e){return e.preventDefault?e.preventDefault():(e.returnValue&&(e.returnValue=!1),void 0)},u.stopPropagation=function(e){return e=e||window.event,e.stopPropagation?e.stopPropagation():(e.cancelBubble&&(e.cancelBubble=!0),void 0)},u.hasClass=function(e,t){var n=new RegExp(" "+t+" ");return n.test(" "+e.className+" ")?!0:!1},u.addClass=function(e,t){t=t.split(" ");for(var n=0;n<t.length;n++)u.hasClass(e,t[n])||(e.className+=" "+t[n])},u.removeClass=function(e,t){t=t.split(" ");for(var n=0;n<t.length;n++){var r=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(u.hasClass(e,t[n])){for(;r.indexOf(" "+t[n]+" ")>=0;)r=r.replace(" "+t[n]+" "," ");e.className=r.replace(/^\s+|\s+$/g,"")}}},u.closest=function(e,t){var n,r;for(r=t;r;r=r.parentNode)if(1===r.nodeType&&u.hasClass(r,e)){n=r;break}return r},u.getAttr=function(e,t){if(e.getAttribute)return e.getAttribute(t);for(var n,r=e.attributes,o=0;o<r.length;o++)r[o].nodeName===t&&(n=r[o].nodeValue);return n},u.indexOf=function(e,t,n){var r=n||0;if(t.indexOf)return t.indexOf(e,r);for(r;r<t.length;r++)if(t[r]===e)return r;return-1},u.makeArray=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},u.isTouch=function(){return"ontouchstart"in window||navigator.msMaxTouchPoints>0?!0:!1},u.isIE8=function(){var e=document.getElementsByTagName("html")[0];return u.hasClass(e,"ie8")?!0:!1},u.supportsPlaceholder=function(){var e=document.createElement("input");return"placeholder"in e},d.accordion=function(){var t=document.querySelectorAll(".accordion");if(t.length>0)for(var n=0;n<t.length;n++)for(var r=t[n].children,o=0;o<r.length;o++)u.addEvent(r[o],u.event(),e)},d.clickDropdown=function(){function e(){for(var e=u.makeArray(document.querySelectorAll(".click-dropdown")),t=0;t<e.length;t++)u.removeClass(e[t],"visible")}function t(n){var r=u.closest("click-dropdown",u.eventTarget(n));r||(e(),u.removeEvent(o,u.event(),t))}function n(n){u.addEvent(n,u.event(),function(n){u.preventDefault(n);var r=u.closest("click-dropdown",u.eventTarget(n));u.hasClass(r,"visible")?(u.removeClass(r,"visible"),u.removeEvent(o,u.event(),t)):(e(),u.addClass(r,"visible"),u.addEvent(o,u.event(),t))})}var r=u.makeArray(document.querySelectorAll(".click-dropdown")),o=document.querySelector("body");if(0!==r.length)for(var a=0;a<r.length;a++){var l=u.closest("click-dropdown",r[a]);n(l)}},d.drawer=function(){var e=document.querySelector(".drawer"),n=u.makeArray(document.querySelectorAll(".drawer-toggle"));if(0!==n.length){u.addEvent(e,u.event(),function(t){var n=document.querySelector("html"),r=u.hasClass(u.eventTarget(t),"drawer");r&&(u.preventDefault(t),u.stopPropagation(t),u.removeClass(e,"active-left active-right"),u.removeClass(n,"scroll-lock"),setTimeout(function(){e.style.display="none"},250))});for(var r=0;r<n.length;r++)t(n[r],e)}},d.dropdown=function(){function e(n){var o=u.hasClass(n.target,"site-dropdown-toggle"),a=u.closest("site-dropdown",n.target);o||a||(u.removeClass(t,"visible"),u.removeEvent(r,u.event(),e))}var t=document.querySelector(".site-dropdown"),n=document.querySelector(".site-dropdown-toggle"),r=document.querySelector("body");t&&u.addEvent(n,u.event(),function(){u.hasClass(t,"visible")?(u.removeClass(t,"visible"),u.removeEvent(r,u.event(),e)):(u.addClass(t,"visible"),u.addEvent(r,u.event(),e))})},d.modal=function(){var e=document.querySelectorAll(".modal-show");if(e.length>0){for(var t=0;t<e.length;t++)n(e[t]);r()}},d.placeholder=function(){var e=document.querySelectorAll("input"),t=u.supportsPlaceholder();if(t===!1)for(var n=0;n<e.length;n++){var r=e[n].type,o=["text","search","url","tel","email","password"];if(-1!==u.indexOf(r,o)){var c;c=""===e[n].value||void 0===e[n].value?!0:!1;var s;s=null!==e[n].getAttribute("placeholder")?!0:!1,c&&s&&(a(e[n]),u.addEvent(e[n],"focus",l))}}},d.siteSearch=function(){function e(r){null===u.closest("site-search-form",r.target)&&(t.value="Search",u.removeClass(n,"active"),u.removeEvent(document.querySelector("body"),"click",e))}var t=document.querySelector(".site-search-input"),n=document.querySelector(".site-search");t&&(t.value="Search",u.addEvent(t,"focus",function(){t.value="",u.addClass(n,"active"),u.addEvent(document.querySelector("body"),"click",e)}))},d.subnav=function(){var e=document.querySelectorAll(".navigation-bar.responsive");if(e.length>0){var t,n,r,o,a,l,s=document.querySelectorAll(".navigation-bar.responsive ul");for(t=0;t<e.length;t++){var i=e[t].children[0].children[1],d=i.children[0];u.addEvent(d,u.event(),c)}for(n=0;n<s.length;n++)for(o=s[n],a=o.querySelectorAll("li"),l=(100-2*a.length)/a.length,r=0;r<a.length;r++)u.isIE8()?a[r].style.width=l+"%":a[r].style.maxWidth=l+"%"}},d.tabs=function(){var e=document.querySelectorAll(".tab");if(e.length>0){var t,n,r,o,a,l,c,i=document.querySelectorAll(".tab-group");for(t=0;t<e.length;t++)o=e[t],u.addEvent(o,u.event(),s);for(n=0;n<i.length;n++)for(a=i[n],l=a.querySelectorAll(".tab"),c=100/l.length,r=0;r<l.length;r++)u.isIE8()?l[r].style.width=c+"%":l[r].style.maxWidth=c+"%"}},d.init=function(e){if(e)for(var t=0;t<e.length;t++)d[e[t]]();else d.accordion(),d.drawer(),d.dropdown(),d.clickDropdown(),d.modal(),d.placeholder(),d.siteSearch(),d.subnav(),d.tabs();u.isTouch()&&u.addClass(document.body,"tailcoat-touch")},"object"==typeof module&&"object"==typeof module.exports?module.exports=d:"function"==typeof define&&define.amd&&define(d),i()}();